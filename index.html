<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C.A.L.E.N.D.A.R. - Legal Deadline Calendar Generator</title>
    <meta name="description" content="Calendar Assistant for Legal Events, Notices, Deadlines, and Automated Reminders">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo-container">
            <img src="assets/ML Icon.png" alt="C.A.L.E.N.D.A.R. Icon" class="logo">
        </div>
        <div class="creator-tagline">Austin Brister's wonderful</div>
        <h1 class="app-title">C.A.L.E.N.D.A.R.</h1>
        <p class="app-subtitle">Calendar Assistant for Legal Events, Notices, Deadlines, and Automated Reminders</p>

        <!-- Settings & Dark Mode Buttons -->
        <div class="top-bar">
            <button type="button" id="settings-button" class="icon-button" title="Settings">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
            </button>
            <div id="dark-mode-toggle" class="icon-button" title="Toggle dark mode">
                <span id="dark-mode-icon">ðŸŒž</span>
            </div>
        </div>
    </header>

    <!-- Main Form - Streamlined -->
    <main class="main-container">
        <form id="deadline-form" class="deadline-form">
            <!-- Essential Fields -->
            <div class="form-card">
                <!-- Case Name -->
                <div class="form-field">
                    <label for="case-name">Case</label>
                    <div class="select-input">
                        <input type="text" id="case-name" name="case-name" placeholder="Select or enter case name" required>
                        <button type="button" class="dropdown-trigger" data-dropdown="case-name-dropdown">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </button>
                        <div id="case-name-dropdown" class="dropdown-menu"></div>
                    </div>
                </div>

                <!-- Description -->
                <div class="form-field">
                    <label for="deadline-description">Event Type</label>
                    <div class="select-input">
                        <input type="text" id="deadline-description" name="deadline-description" placeholder="Select or enter description" required>
                        <button type="button" class="dropdown-trigger" data-dropdown="description-dropdown">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </button>
                        <div id="description-dropdown" class="dropdown-menu"></div>
                    </div>
                </div>

                <!-- Location -->
                <div class="form-field">
                    <label for="event-location">Location <span class="optional">(optional)</span></label>
                    <div class="select-input">
                        <input type="text" id="event-location" name="event-location" placeholder="Select or enter location">
                        <button type="button" class="dropdown-trigger" data-dropdown="location-dropdown">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </button>
                        <div id="location-dropdown" class="dropdown-menu"></div>
                    </div>
                </div>

                <!-- Date/Time -->
                <div class="form-field">
                    <label for="deadline-date">Date & Time</label>
                    <input type="datetime-local" id="deadline-date" name="deadline-date" required>
                </div>
            </div>

            <!-- Recipients Summary -->
            <div class="form-card collapsible">
                <div class="card-header" data-toggle="recipients-panel">
                    <div class="card-title">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        <span>Recipients</span>
                    </div>
                    <div class="card-summary">
                        <span id="recipients-summary">0 selected</span>
                        <svg class="chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                </div>
                <div id="recipients-panel" class="card-content">
                    <div class="select-all-row">
                        <label class="checkbox-label">
                            <input type="checkbox" id="select-all-recipients">
                            <span>Select All</span>
                        </label>
                    </div>
                    <div id="recipients-group" class="checkbox-grid"></div>
                    <div id="no-recipients-message" class="empty-message" style="display: none;">
                        No team members configured. Add them in Settings.
                    </div>
                </div>
            </div>

            <!-- Reminders Summary -->
            <div class="form-card collapsible">
                <div class="card-header" data-toggle="reminders-panel">
                    <div class="card-title">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                        </svg>
                        <span>Reminders</span>
                    </div>
                    <div class="card-summary">
                        <span id="reminders-summary">0 selected</span>
                        <svg class="chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                </div>
                <div id="reminders-panel" class="card-content">
                    <div class="select-all-row">
                        <label class="checkbox-label">
                            <input type="checkbox" id="select-all-reminders">
                            <span>Select All</span>
                        </label>
                    </div>
                    <div id="reminders-group" class="checkbox-grid">
                        <label class="checkbox-label">
                            <input type="checkbox" id="reminder-7am" name="reminders" class="reminder-option" value="7AM Day Of" data-days="0" data-hours="0" data-special="7am">
                            <span>7AM Day Of</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="reminder-1d" name="reminders" class="reminder-option" value="1 Day" data-days="1" data-hours="0">
                            <span>1 Day Before</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="reminder-2d" name="reminders" class="reminder-option" value="2 Days" data-days="2" data-hours="0">
                            <span>2 Days Before</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="reminder-3d" name="reminders" class="reminder-option" value="3 Days" data-days="3" data-hours="0">
                            <span>3 Days Before</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="reminder-1w" name="reminders" class="reminder-option" value="1 Week" data-days="7" data-hours="0">
                            <span>1 Week Before</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="reminder-2w" name="reminders" class="reminder-option" value="2 Weeks" data-days="14" data-hours="0">
                            <span>2 Weeks Before</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="reminder-1m" name="reminders" class="reminder-option" value="1 Month" data-days="30" data-hours="0">
                            <span>1 Month Before</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Advanced Options -->
            <div class="form-card collapsible collapsed">
                <div class="card-header" data-toggle="advanced-panel">
                    <div class="card-title">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                        <span>Advanced Options</span>
                    </div>
                    <div class="card-summary">
                        <svg class="chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                </div>
                <div id="advanced-panel" class="card-content">
                    <!-- Priority -->
                    <div class="form-field">
                        <label>Priority</label>
                        <input type="hidden" id="priority-value" value="medium">
                        <div class="priority-selector">
                            <button type="button" class="priority-btn priority-low" data-priority="low">Low</button>
                            <button type="button" class="priority-btn priority-medium selected" data-priority="medium">Medium</button>
                            <button type="button" class="priority-btn priority-high" data-priority="high">High</button>
                        </div>
                    </div>

                    <!-- Event Prefix -->
                    <div class="form-field">
                        <label for="main-event-prefix">Event Prefix</label>
                        <select id="main-event-prefix" name="main-event-prefix">
                            <option value="none">None</option>
                            <option value="HEARING">NOW</option>
                            <option value="DUE">DUE</option>
                            <option value="ALERT">ALERT</option>
                            <option value="custom">Custom...</option>
                        </select>
                        <input type="text" id="custom-prefix" name="custom-prefix" placeholder="Enter custom prefix" class="custom-prefix-input" style="display: none;">
                    </div>

                    <!-- Duration -->
                    <div class="form-field">
                        <label for="event-duration">Event Duration</label>
                        <select id="event-duration" name="event-duration">
                            <option value="15">15 minutes</option>
                            <option value="30">30 minutes</option>
                            <option value="45">45 minutes</option>
                            <option value="60" selected>1 hour</option>
                            <option value="120">2 hours</option>
                            <option value="240">4 hours</option>
                            <option value="480">8 hours</option>
                        </select>
                    </div>

                    <!-- Busy Status -->
                    <div class="form-field">
                        <label class="checkbox-label inline">
                            <input type="checkbox" id="mark-as-busy" name="mark-as-busy" checked>
                            <span>Mark main event as busy</span>
                        </label>
                    </div>

                    <!-- Additional Notes -->
                    <div class="form-field">
                        <label for="additional-notes">Notes</label>
                        <textarea id="additional-notes" name="additional-notes" placeholder="Additional notes (optional)" rows="3"></textarea>
                    </div>

                    <!-- Download Format -->
                    <div class="form-field">
                        <label for="download-type">Download Format</label>
                        <select id="download-type" name="download-type">
                            <option value="combined">Single File (All Events)</option>
                            <option value="separate">Separate Files</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Generate Button -->
            <button type="button" id="generate-button" class="generate-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
                <span>Generate Calendar</span>
            </button>
        </form>

        <!-- Status Message -->
        <div id="status-message" class="status-message"></div>

        <!-- Download Container -->
        <div id="download-container" class="download-container">
            <h3>Your Calendar Files</h3>
            <div id="download-links" class="download-links"></div>
            <button id="download-all-button" class="download-all-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7 10 12 15 17 10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                <span>Download All</span>
            </button>
        </div>
    </main>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button type="button" class="modal-close" id="close-settings">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <!-- Settings Tabs -->
                <div class="settings-tabs">
                    <button type="button" class="tab-btn active" data-tab="organizer">Organizer</button>
                    <button type="button" class="tab-btn" data-tab="team">Team</button>
                    <button type="button" class="tab-btn" data-tab="cases">Cases</button>
                    <button type="button" class="tab-btn" data-tab="descriptions">Descriptions</button>
                    <button type="button" class="tab-btn" data-tab="locations">Locations</button>
                    <button type="button" class="tab-btn" data-tab="data">Import/Export</button>
                </div>

                <!-- Organizer Tab -->
                <div id="tab-organizer" class="tab-content active">
                    <p class="tab-description">Your information for calendar invites</p>
                    <div class="form-field">
                        <label for="organizer-name">Your Name</label>
                        <input type="text" id="organizer-name" name="organizer-name" placeholder="Full name">
                    </div>
                    <div class="form-field">
                        <label for="organizer-email">Your Email</label>
                        <input type="email" id="organizer-email" name="organizer-email" placeholder="email@example.com">
                    </div>
                    <button type="button" id="save-organizer-info" class="save-btn">Save Organizer Info</button>
                </div>

                <!-- Team Tab -->
                <div id="tab-team" class="tab-content">
                    <p class="tab-description">Team members who can receive calendar invites</p>
                    <div id="attorney-inputs-container" class="items-list"></div>
                    <button type="button" id="add-attorney-button" class="add-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Team Member
                    </button>
                    <button type="button" id="save-attorneys-button" class="save-btn">Save Team</button>
                </div>

                <!-- Cases Tab -->
                <div id="tab-cases" class="tab-content">
                    <p class="tab-description">Saved cases with default recipients</p>
                    <div id="case-items-container" class="items-list"></div>
                    <button type="button" id="add-case-button" class="add-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Case
                    </button>
                    <button type="button" id="save-cases-button" class="save-btn">Save Cases</button>
                </div>

                <!-- Descriptions Tab -->
                <div id="tab-descriptions" class="tab-content">
                    <p class="tab-description">Event types with default reminders</p>
                    <div id="description-items-container" class="items-list"></div>
                    <button type="button" id="add-description-button" class="add-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Description
                    </button>
                    <button type="button" id="save-descriptions-button" class="save-btn">Save Descriptions</button>
                </div>

                <!-- Locations Tab -->
                <div id="tab-locations" class="tab-content">
                    <p class="tab-description">Saved locations with full addresses</p>
                    <div id="location-items-container" class="items-list"></div>
                    <button type="button" id="add-location-button" class="add-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Location
                    </button>
                    <button type="button" id="save-locations-button" class="save-btn">Save Locations</button>
                </div>

                <!-- Import/Export Tab -->
                <div id="tab-data" class="tab-content">
                    <p class="tab-description">Backup and restore your settings</p>
                    <div class="data-actions">
                        <button type="button" id="export-settings-button" class="action-btn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            Export Settings
                        </button>
                        <label class="action-btn import-label">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Import Settings
                            <input type="file" id="import-settings" accept=".json" style="display: none;">
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>Built by <a href="https://github.com/AustinBrister" target="_blank">Austin Brister</a></p>
    </footer>

    <script src="js/app.js"></script>
</body>
</html>
